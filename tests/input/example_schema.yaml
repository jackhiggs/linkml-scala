id: https://example.org/test-schema
name: test_schema
prefixes:
  linkml: https://w3id.org/linkml/
  schema: http://schema.org/

imports:
  - linkml:types

default_range: string

types:
  Identifier:
    typeof: string

enums:
  Status:
    description: The status of an entity
    permissible_values:
      active:
        description: Entity is currently active
        meaning: schema:ActiveActionStatus
      inactive:
        description: Entity is no longer active
      pending:
        description: Entity is awaiting activation

  Color:
    permissible_values:
      red:
      green:
      blue:

classes:
  NamedThing:
    mixin: true
    description: A generic named entity
    exact_mappings:
      - schema:Thing
    slots:
      - id
      - name

  HasStatus:
    mixin: true
    slots:
      - status

  Person:
    is_a: NamedThing
    mixins:
      - HasStatus
    description: A person (alive, dead, undead, or fictional)
    close_mappings:
      - schema:Person
    deprecated: Use Individual instead
    slots:
      - age
      - email
      - scores
    slot_usage:
      email:
        required: true
        pattern: "^\\S+@\\S+\\.\\S+$"
      age:
        minimum_value: 0
        maximum_value: 200
      scores:
        minimum_cardinality: 0
        maximum_cardinality: 10
    unique_keys:
      person_name_email:
        unique_key_slots:
          - name
          - email
    rules:
      - preconditions:
          slot_conditions:
            age:
              minimum_value: 18
        postconditions:
          slot_conditions:
            status:
              equals_string: active
        description: Adults must be active
      - preconditions:
          slot_conditions:
            status:
              equals_string: inactive
        postconditions:
          slot_conditions:
            age:
              maximum_value: 0
        description: Inactive must have zero age
      - postconditions:
          slot_conditions:
            name:
              equals_string: required_name
        description: Name always required value

  Organization:
    slots:
      - name
      - founded_date

  LivingThing:
    abstract: true
    tree_root: true
    description: A living organism
    children_are_mutually_disjoint: true

  Animal:
    is_a: LivingThing
    slots:
      - name

  Plant:
    is_a: LivingThing
    slots:
      - name

  Shape:
    union_of:
      - Circle
      - Square

  Circle:
    slots:
      - name

  Square:
    slots:
      - name

  Employee:
    slots:
      - name
      - age
      - department
      - salary
      - certifications
      - badge_number
    slot_usage:
      salary:
        equals_number: 50000
      certifications:
        exact_cardinality: 3
      badge_number:
        value_presence: PRESENT
    rules:
      - preconditions:
          slot_conditions:
            department:
              equals_string: engineering
        postconditions:
          slot_conditions:
            salary:
              minimum_value: 60000
        elseconditions:
          slot_conditions:
            salary:
              minimum_value: 40000
        description: Engineering salary rule
      - preconditions:
          slot_conditions:
            age:
              minimum_value: 18
        postconditions:
          slot_conditions:
            department:
              equals_string: active
        description: Deactivated rule example
        deactivated: true
      - preconditions:
          slot_conditions:
            department:
              equals_string: sales
        postconditions:
          slot_conditions:
            salary:
              equals_number: 45000
        description: Sales salary check
        bidirectional: true
      - preconditions:
          slot_conditions:
            age:
              minimum_value: 21
        postconditions:
          slot_conditions:
            department:
              equals_string: senior
        description: Senior eligibility
        open_world: true

slots:
  id:
    range: string
    required: true
    identifier: true
  name:
    range: string
    required: true
  status:
    range: Status
  age:
    range: integer
  email:
    range: string
  scores:
    range: float
    multivalued: true
  founded_date:
    range: date
  department:
    range: string
  salary:
    range: integer
  certifications:
    range: string
    multivalued: true
  badge_number:
    range: string
